<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Change Password</title>
  <link rel="stylesheet" href="../css/change_psw.css">
  <link href="https://fonts.googleapis.com/css?family=Lexend+Peta&display=swap" rel="stylesheet">

</head>

<body>
    <div class="container">
        <div class="section-left"><img style="height: 70px" src="../images/logo.png" alt="logo sito"></div>
        <div class="change_psw-section">    
            <div class="change_psw-container">
            <h2>Change your Password</h2>
            <br>
            <form method="POST" action="/myaccount/setpsw">
                <p>Old Password</p>
                <br>
                <input type="password" placeholder="Old Password" class="old_password" name="oldpassword" id="oldpassword">
                <br>
                <p>New Passowrd</p>
                <br>
                <input type="password" placeholder="New Password" class="new_password" id="password" name="password">
                <input type="password" placeholder="Confirm your Password" class="confirm_password" id="confpassword" name="confpassword">
                <button type="submit" class="button">Confirm</button>
            </form>
            </div>
        </div>
        <div class="section-right"><a style="text-decoration: none;" href="/myaccount/mypage"><button class="button">Home</button></a></div>
    </div>


<script>

var password = document.getElementById("password")
var confpassword = document.getElementById("confpassword");
var old_password = document.getElementById("oldpassword");

function differentPassword(){
  if(password.value == old_password.value) {
    password.setCustomValidity("Your new password must be different from your previous password");
  } else {
    password.setCustomValidity('');
  }
}

function validatePassword(){
  if(password.value != confpassword.value) {
    confpassword.setCustomValidity("Passwords Don't Match");
  } else {
    confpassword.setCustomValidity('');
  }
}



old_password.onchange = differentPassword;
password.onkeyup = differentPassword;

password.onchange = validatePassword;
confpassword.onkeyup = validatePassword;

</script>

</body>
</html>